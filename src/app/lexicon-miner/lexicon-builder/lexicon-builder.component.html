<div class="flex-row wrapper">
  <div class="card mat-elevation-z2" fxLayout="column">
    <div class="lexicon">
      <h3>Lexicon words</h3>
      <div *ngIf="!!_lexicon" fxLayout="column" fxFlexAlign="center">
        <mat-form-field data-cy="appLexiconEmbedding">
          <mat-label>Select Embedding</mat-label>
          <mat-select panelClass="select-panel-reveal-input" [disableOptionCentering]="true"
                      [(value)]="selectedEmbedding" (selectionChange)="saveEmbeddingChoice($event.value)">
            <mat-option *ngFor="let embedding of embeddings" [value]="embedding">
              {{embedding.description}}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field floatLabel="never" class="textarea max-width" appearance="outline" data-cy="appLexiconWords">
          <mat-label>Enter words here</mat-label>
          <textarea matInput class="max-width" placeholder="Enter words here" [(ngModel)]="positives"
                    cdkTextareaAutosize
                    cdkAutosizeMinRows="1"
                    cdkAutosizeMaxRows="5"
          ></textarea>
        </mat-form-field>

        <div fxLayout="row" fxLayoutGap="5px">
          <button mat-stroked-button color="accent" fxFlex [disabled]="!selectedEmbedding"
                  data-cy="appLexiconNewSuggestionsBtn"
                  matTooltip="Select an embedding and get new word suggestions"
                  (click)="getNewSuggestions()">
            New Suggestions
          </button>
          <button mat-stroked-button color="primary"
                  data-cy="appLexiconSaveBtn" (click)="saveLexicon()" fxFlex>Save</button>
        </div>

      </div>
    </div>

    <div class="negative" *ngIf="negatives.length > 0">
      <h3>Negative words</h3>
      <div class="negatives flex-row-wrap">
        <mat-chip-list>
          <mat-chip data-cy="appLexiconNegatives" *ngFor="let negative of negatives" color="warn" selected removable="true"
                    (click)="removeNegative(negative)">{{negative}}
          </mat-chip>
        </mat-chip-list>
      </div>
    </div>
  </div>

  <div fxLayout="column" class="card predictions mat-elevation-z2">
    <h3>Suggestions
    </h3>
    <div fxLayoutAlign="center center" fxFlex="70%" *ngIf="isLoadingPredictions">
      <mat-spinner></mat-spinner>
    </div>
    <div class="flex-row-wrap">
      <div *ngFor="let prediction of predictions"
           data-cy="appLexiconPredictions"
           class="list-item pointer item-padding"
           (click)="addPositive(prediction)">
        <span>{{prediction.phrase}}</span>
      </div>
    </div>
    <!-- <mat-select panelClass="select-panel-reveal-input" [disableOptionCentering]="true"ion-list #predictedWords>
      <mat-list-option *ngFor="let prediction of predictions" [value]="prediction">
        {{prediction.phrase}}
      </mat-list-option>
    </mat-selection-list> -->
  </div>
</div>
