<div class="wrapper" fxLayout="row" fxLayoutGap="10px">
  <div *ngFor="let item of dataSource" class="table-container" fxLayout="col">
    <table [dataSource]="item.buckets" class="readable-table" mat-table>

      <ng-container matColumnDef="key">
        <th *matHeaderCellDef mat-header-cell>Value</th>
        <td (click)="makeSearch(item.key, element.key)" *matCellDef="let element" class="table-row pointer" mat-cell
            title="Add to search constraint">
          <span>{{element.key}}</span></td>
      </ng-container>
      <ng-container matColumnDef="doc_count">
        <th *matHeaderCellDef mat-header-cell>Doc count</th>
        <td *matCellDef="let element" class="table-row" mat-cell><span>{{element.doc_count}}</span></td>
      </ng-container>
      <!-- Header row first group -->
      <ng-container matColumnDef="header-row-first-group">
        <th *matHeaderCellDef [attr.colspan]="2" mat-header-cell style="text-align: center"> {{item.key}} </th>
      </ng-container>

      <tr *matHeaderRowDef="['header-row-first-group']; sticky: true" mat-header-row></tr>
      <tr *matHeaderRowDef="displayedColumns;" mat-header-row></tr>
      <tr *matRowDef="let row; columns: displayedColumns;" mat-row></tr>
    </table>
  </div>
</div>
